# GitHub Repository Setup

## Steps to Complete Deployment

### 1. Create GitHub Repository

1. Go to https://github.com/new
2. Repository name: `expense-tracker` (or your preferred name)
3. Description: "Mobile expense tracking app with Google Sheets integration"
4. **Keep it Public** (required for Render.com free tier)
5. **DO NOT** initialize with README, .gitignore, or license
6. Click **Create repository**

### 2. Push Your Code

After creating the repository, GitHub will show you commands. Use these:

```bash
git remote add origin https://github.com/YOUR_USERNAME/expense-tracker.git
git branch -M main
git push -u origin main
```

**Replace `YOUR_USERNAME` with your GitHub username!**

### 3. Deploy to Render.com

1. Go to https://render.com/
2. Sign up / Log in (can use GitHub account)
3. Click **New +** → **Web Service**
4. Click **Connect GitHub** (authorize Render)
5. Select your `expense-tracker` repository
6. Render will auto-detect settings from `render.yaml`
7. Click **Create Web Service**

### 4. Add Environment Variables in Render

Go to your service's **Environment** tab and add:

#### Required Variables:
```
NODE_ENV=production
JWT_SECRET=<auto-generated>
OAUTH_SERVER_URL=<your-oauth-server-url>
VITE_APP_ID=<your-app-id>
VITE_OAUTH_PORTAL_URL=<your-oauth-portal-url>
GOOGLE_SERVICE_ACCOUNT_JSON=<paste-your-json-here>
```

**For the Google Sheets JSON:**
- Copy the ENTIRE JSON from your service account file
- Paste it as a **single line** (remove line breaks)
- Example: `{"type":"service_account","project_id":"...",...}`

#### Optional (for testing without real OAuth):
```
MOCK_OAUTH=true
MOCK_OAUTH_PORT=4000
```

### 5. Share Google Sheet

1. Open your Google Sheet
2. Click **Share**
3. Add: `sheets-api-service-account@investorpython.iam.gserviceaccount.com`
4. Set permission: **Editor**
5. Click **Send**

### 6. Deploy!

Click **Manual Deploy** → **Deploy latest commit**

Your app will be live at: `https://expense-tracker-xxxx.onrender.com`

---

## Troubleshooting

**"Repository not found"?**
- Make sure the repo is public
- Verify you authorized Render to access your GitHub

**Build fails?**
- Check Render logs for errors
- Verify `pnpm-lock.yaml` is committed
- Ensure Node version is 18+ in Render settings

**Can't access the app?**
- First deployment takes 2-3 minutes
- Check Render dashboard for deployment status
- View logs for errors

---

## Next Steps After Deployment

1. Test the live app
2. Submit a test expense
3. Verify it appears in your Google Sheet
4. (Optional) Connect real OAuth provider
5. (Optional) Upgrade to always-on for $7/month

---

Need help? Open an issue on GitHub!

